[package]
name = "fuse-rs"
version = "0.1.0"
keywords = ["fuse", "virtio-fs", "vhost-user-fs"]
categories = ["filesystem", "os::linux-apis"]
description = "A library to support Fuse server and virtio-fs device based on Linux Fuse ABI"
authors = ["Liu Bo <bo.liu@linux.alibaba.com>", "Liu Jiang <gerry@linux.alibaba.com>", "Peng Tao <bergwolf@hyper.sh>"]
license = "Apache-2.0 AND BSD-3-Clause"
edition = "2018"
repository = "https://github.com/cloud-hypervisor/fuse-backend-rs"
homepage = "https://github.com/cloud-hypervisor/"

[dependencies]
arc-swap = ">=0.4.6"
bitflags = ">=1.1.0"
epoll = { version = "4.0", optional = true }
libc = ">=0.2.68"
log = ">=0.4.6"
nix = "0.17.0"
vmm-sys-util = { version = "0.4", optional = true }
vm-memory = "0.4"
vm-virtio = { git = "https://github.com/cloud-hypervisor/vm-virtio.git", branch = "dragonball", optional = true }
vhost-rs = { git = "https://github.com/cloud-hypervisor/vhost.git", branch = "dragonball", package = "vhost", optional = true }

[dev-dependencies]
vmm-sys-util = "0.4"
stderrlog = "0.4"

[dev-dependencies.vm-memory]
version = "0.4"
features = ["backend-mmap"]

[features]
fusedev = ["vmm-sys-util", "epoll"]
virtiofs = ["vm-virtio"]
vhost-user-fs = ["virtiofs", "vhost-rs/vhost-user-slave"]

